<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8" />
        <title>Trusterrands</title>
        <meta content="width=device-width, initial-scale=1.0" name="viewport" />
        <meta content="Trusterrands" name="keywords" />
        <meta content="Trusterrands" name="description" />
    
        <!-- Favicon -->
        <link href="img/favicon.ico" rel="icon" />
        <link
          rel="icon"
          href="{{ url_for('static', filename='img/favicon.ico') }}"
        />
        <!-- Google Web Fonts -->
    
        <link rel="preconnect" href="https://fonts.gstatic.com " />
        <link
          href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
          rel="stylesheet"
        />
    
        <!-- Font Awesome -->
        <link
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
          rel="stylesheet"
        />
        
    
        <!-- Libraries Stylesheet -->
    
        <link
          rel="stylesheet"
          href="{{ url_for('static', filename='lib/owlcarousel/assets/owl.carousel.min.css') }}"
        />
        <!-- Customized Bootstrap Stylesheet -->
        <link
          rel="stylesheet"
          href="{{ url_for('static', filename='css/style.css') }}"
        />
      </head>
<body>
    <div class="container-fluid">
        <div class="row bg-secondary py-2 px-xl-5">
          <div class="col-lg-6 d-none d-lg-block">
            <div class="d-inline-flex align-items-center">
              <a class="text-dark" href=""></a>
              <span class="text-muted px-2"></span>
              <a class="text-dark" href=""></a>
              <span class="text-muted px-2"></span>
              <a class="text-dark" href=""></a>
            </div>
          </div>
          <div class="col-lg-6 text-center text-lg-right">
            <div class="d-inline-flex align-items-center">
              <a class="text-dark px-2" href="">
                <i class=""></i>
              </a>
              <a class="text-dark px-2" href="">
                <i class=""></i>
              </a>
  
              <a class="text-dark px-2" href="">
                <i class=""></i>
              </a>
            </div>
          </div>
        </div>
        <div class="row align-items-center py-3 px-xl-5">
          <div class="col-lg-3 d-none d-lg-block">
            <a href="" class="text-decoration-none">
              <h1 class="m-0 display-5 font-weight-semi-bold">
                <span class="text-primary font-weight-bold border px-3 mr-1"
                  >Trust</span>Errands
              </h1>
            </a>
          </div>
          <div class="col-lg-6 col-6 text-left">
            <form action="">
              <div class="input-group">
                <input
                  type="text"
                  class="form-control"
                  placeholder="Search for products"
                />
                <div class="input-group-append">
                  <span class="input-group-text bg-transparent text-primary">
                    <i class="fa fa-search"></i>
                  </span>
                </div>
              </div>
            </form>
          </div>
          <div class="col-lg-3 col-6 text-right">
           
            <a href="/login" class="btn border">
              <i class="fas fa-shopping-cart text-primary"></i>
              <span class="badge"><span class="total-count"></span></span>
            </a>
            <a href="/login" class="btn border">
              <i class="fas fa-user text-primary"></i>
              <span class="badge"></span>
  
              
            </a>
          </div>
        </div>
      </div>


    <!-- Shop Detail Start -->
    <div class="container-fluid py-5">
        <div class="row px-xl-5">
            <div class="col-lg-5 pb-5">
                <div id="product-carousel" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner border">
                        <div class="carousel-item active">
                            <img class="w-100 h-100" src="{{product.image}}" alt="{{product.title}}">
                        </div>
                       
                    </div>
                    <a class="carousel-control-prev" href="#product-carousel" data-slide="prev">
                        <i class="fa fa-2x fa-angle-left text-dark"></i>
                    </a>
                    <a class="carousel-control-next" href="#product-carousel" data-slide="next">
                        <i class="fa fa-2x fa-angle-right text-dark"></i>
                    </a>
                </div>
            </div>

            <div class="col-lg-7 pb-5">
                <h3 class="font-weight-semi-bold">{{product.title}}</h3>
                <div class="d-flex mb-3">
  
                    <small class="pt-1"></small>
                </div>
                <h3 class="font-weight-semi-bold mb-4">&#8358;{{product.price}}</h3>
                <p class="mb-4">{{product.category}}</p>
                <div class="d-flex mb-3">
                   
                </div>
                <div class="d-flex mb-4">
                    
                </div>
                <div class="d-flex align-items-center mb-4 pt-2">
                    <div class="input-group quantity mr-3" style="width: 130px;">
                        <div class="input-group-btn">
                            <button class="btn btn-primary btn-minus" >
                            <i class="fa fa-minus"></i>
                            </button>
                        </div>
                        <input type="text" class="form-control bg-secondary text-center" value="1">
                        <div class="input-group-btn">
                            <button class="btn btn-primary btn-plus">
                                <i class="fa fa-plus"></i>
                            </button>
                        </div>
                    </div>
                    <button class="btn btn-primary px-3"><i class="fa fa-shopping-cart mr-1"></i> Add To Cart</button>
                </div>
                <div class="d-flex pt-2">
                    <p class="text-dark font-weight-medium mb-0 mr-2"></p>
                    <div class="d-inline-flex">
                        
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row px-xl-5">
            <div class="col">
                <div class="nav nav-tabs justify-content-center border-secondary mb-4">
                    <a class="nav-item nav-link active" data-toggle="tab" href="#tab-pane-1">Description</a>
           
                </div>
                <div class="tab-content">
                    <div class="tab-pane fade show active" id="tab-pane-1">
                        <h4 class="mb-3">Product Description</h4>
                      <p>{{product.description}}
                    </div>
                    <div class="tab-pane fade" id="tab-pane-2">
                        
                
                        <div class="row">
                           
                            <div class="col-md-6">
                                
                                  
                            </div>
                        </div>
                    </div>
                  
    <!-- Shop Detail End -->


    <!-- Products Start -->
 
    <!-- Products End -->


    <!-- Footer Start -->
    
    <!-- Footer End -->


    <!-- Back to Top -->
    <a href="#" class="btn btn-primary back-to-top"><i class="fa fa-angle-double-up"></i></a>


     <!-- JavaScript Libraries -->
     <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
     <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
     <script>
       // ************************************************
 // Shopping Cart API
 // ************************************************
 
 var shoppingCart = (function() {
   // =============================
   // Private methods and propeties
   // =============================
   cart = [];
   
   // Constructor
   function Item(name, price, count) {
     this.name = name;
     this.price = price;
     this.count = count;
   }
   
   // Save cart
   function saveCart() {
     sessionStorage.setItem('shoppingCart', JSON.stringify(cart));
   }
   
     // Load cart
   function loadCart() {
     cart = JSON.parse(sessionStorage.getItem('shoppingCart'));
   }
   if (sessionStorage.getItem("shoppingCart") != null) {
     loadCart();
   }
   
 
   // =============================
   // Public methods and propeties
   // =============================
   var obj = {};
   
   // Add to cart
   obj.addItemToCart = function(name, price, count) {
     for(var item in cart) {
       if(cart[item].name === name) {
         cart[item].count ++;
         saveCart();
         return;
       }
     }
     var item = new Item(name, price, count);
     cart.push(item);
     saveCart();
   }
   // Set count from item
   obj.setCountForItem = function(name, count) {
     for(var i in cart) {
       if (cart[i].name === name) {
         cart[i].count = count;
         break;
       }
     }
   };
   // Remove item from cart
   obj.removeItemFromCart = function(name) {
       for(var item in cart) {
         if(cart[item].name === name) {
           cart[item].count --;
           if(cart[item].count === 0) {
             cart.splice(item, 1);
           }
           break;
         }
     }
     saveCart();
   }
 
   // Remove all items from cart
   obj.removeItemFromCartAll = function(name) {
     for(var item in cart) {
       if(cart[item].name === name) {
         cart.splice(item, 1);
         break;
       }
     }
     saveCart();
   }
 
   // Clear cart
   obj.clearCart = function() {
     cart = [];
     saveCart();
   }
 
   // Count cart 
   obj.totalCount = function() {
     var totalCount = 0;
     for(var item in cart) {
       totalCount += cart[item].count;
     }
     return totalCount;
   }
 
   // Total cart
   obj.totalCart = function() {
     var totalCart = 0;
     for(var item in cart) {
       totalCart += cart[item].price * cart[item].count;
     }
     return Number(totalCart.toFixed(2));
   }
 
   // List cart
   obj.listCart = function() {
     var cartCopy = [];
     for(i in cart) {
       item = cart[i];
       itemCopy = {};
       for(p in item) {
         itemCopy[p] = item[p];
 
       }
       itemCopy.total = Number(item.price * item.count).toFixed(2);
       cartCopy.push(itemCopy)
     }
     return cartCopy;
   }
 
   // cart : Array
   // Item : Object/Class
   // addItemToCart : Function
   // removeItemFromCart : Function
   // removeItemFromCartAll : Function
   // clearCart : Function
   // countCart : Function
   // totalCart : Function
   // listCart : Function
   // saveCart : Function
   // loadCart : Function
   return obj;
 })();
 
 
 // *****************************************
 // Triggers / Events
 // ***************************************** 
 // Add item
 $('.add-to-cart').click(function(event) {
   event.preventDefault();
   var name = $(this).data('name');
   var price = Number($(this).data('price'));
   shoppingCart.addItemToCart(name, price, 1);
   displayCart();
 });
 
 // Clear items
 $('.clear-cart').click(function() {
   shoppingCart.clearCart();
   displayCart();
 });
 
 
 function displayCart() {
   var cartArray = shoppingCart.listCart();
   var output = "";
   for(var i in cartArray) {
     output += "<tr>"
       + "<td>" + cartArray[i].name + "</td>" 
       + "<td>(" + cartArray[i].price + ")</td>"
       + "<td><div class='input-group'><button class='minus-item input-group-addon btn btn-primary' data-name=" + cartArray[i].name + ">-</button>"
       + "<input type='number' class='item-count form-control' data-name='" + cartArray[i].name + "' value='" + cartArray[i].count + "'>"
       + "<button class='plus-item btn btn-primary input-group-addon' data-name=" + cartArray[i].name + ">+</button></div></td>"
       + "<td><button class='delete-item btn btn-danger' data-name=" + cartArray[i].name + ">X</button></td>"
       + " = " 
       + "<td>" + cartArray[i].total + "</td>" 
       +  "</tr>";
   }
   $('.show-cart').html(output);
   $('.total-cart').html(shoppingCart.totalCart());
   $('.total-count').html(shoppingCart.totalCount());
 }
 
 // Delete item button
 
 $('.show-cart').on("click", ".delete-item", function(event) {
   var name = $(this).data('name')
   shoppingCart.removeItemFromCartAll(name);
   displayCart();
 })
 
 
 // -1
 $('.show-cart').on("click", ".minus-item", function(event) {
   var name = $(this).data('name')
   shoppingCart.removeItemFromCart(name);
   displayCart();
 })
 // +1
 $('.show-cart').on("click", ".plus-item", function(event) {
   var name = $(this).data('name')
   shoppingCart.addItemToCart(name);
   displayCart();
 })
 
 // Item count input
 $('.show-cart').on("change", ".item-count", function(event) {
    var name = $(this).data('name');
    var count = Number($(this).val());
   shoppingCart.setCountForItem(name, count);
   displayCart();
 });
 
 displayCart();
 
     </script>
     <link
       rel="script"
       href="{{ url_for('static', filename='lib/owlcarousel/owl.carousel.min.js') }}"
     />
     <link
       rel="script"
       href="{{ url_for('static', filename='lib/easing/easing.min.js') }}"
     />
 
     <!-- Contact Javascript File -->
     <link
       rel="script"
       href="{{ url_for('static', filename='mail/jqBootstrapValidation.min.js') }}"
     />
     <link
       rel="script"
       href="{{ url_for('static', filename='mail/contact.js') }}"
     />
   
    
 
     <!-- Template Javascript -->
     <link
       rel="script"
       href="{{ url_for('static', filename='js/main.js') }}"
     />
</body>

</html>